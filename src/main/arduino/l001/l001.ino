#include <IRremote.h>

IRsend irsend;

// 赤外線信号の周波数
const int khz = 38;

// 照明ON信号
const unsigned int on[] = {3600,1600, 550,300, 600,250, 550,1200, 500,1200, 550,300, 550,1200, 500,350, 500,350, 500,350, 550,1200, 500,350, 500,350, 500,1250, 500,350, 500,1200, 500,350, 500,1250, 500,350, 500,350, 500,1200, 500,400, 450,400, 500,350, 500,350, 500,1250, 450,1250, 500,1200, 500,1250, 500,350, 500,1200, 500,400, 450,400, 500,350, 500,1200, 500,1250, 500,350, 500,400, 450,1250, 450,400, 450,400, 500};

// 照明OFF信号
const unsigned int off[] = {3600,1600, 550,300, 600,250, 550,1200, 500,1200, 550,300, 550,1200, 500,350, 500,350, 500,350, 550,1200, 500,350, 500,350, 500,1250, 500,350, 500,1200, 500,350, 500,1250, 500,350, 500,350, 500,1200, 500,400, 450,400, 500,350, 500,350, 500,1250, 450,1250, 500,1200, 500,1250, 500,350, 500,1200, 500,400, 450,400, 500,350, 500,1200, 500,1250, 500,350, 500,400, 450,1250, 450,400, 450,400, 500};

// 全灯信号
const unsigned int allLight[] = {3650,1500, 550,350, 500,350, 550,1150, 550,1200, 500,350, 550,1150, 550,350, 500,350, 500,350, 500,1250, 500,350, 500,350, 500,1200, 500,400, 500,1200, 500,350, 500,1250, 450,400, 500,350, 500,1200, 500,350, 500,400, 450,400, 500,350, 500,350, 500,350, 500,1250, 450,1250, 500,350, 500,1250, 450,400, 500,350, 500,1200, 500,400, 450,1250, 500,350, 500,350, 500,1250, 450,400, 500,350, 500};

// 常夜灯信号
const unsigned int nightLight[] = {3550,1600, 550,350, 500,350, 500,1200, 550,1150, 550,350, 500,1200, 550,300, 550,350, 500,350, 500,1200, 500,350, 550,350, 500,1200, 500,350, 500,1200, 550,350, 500,1200, 500,350, 500,350, 500,1250, 500,350, 500,350, 500,350, 500,350, 500,400, 450,1250, 500,1200, 500,1250, 500,350, 500,1200, 500,400, 450,400, 450,1250, 500,1250, 450,1250, 500,350, 500,350, 500,1250, 450,400, 450,400, 500};

// 白い色信号
const unsigned int white[] = {3550,1650, 550,300, 550,300, 550,1150, 550,1200, 550,300, 550,1200, 500,350, 500,350, 500,350, 500,1250, 500,350, 500,350, 500,1250, 450,400, 450,1250, 500,350, 500,1250, 450,400, 500,350, 500,1200, 500,1250, 500,1200, 500,350, 500,400, 450,400, 450,400, 500,350, 500,350, 500,1250, 450,400, 500,350, 500,1200, 500,1250, 450,400, 500,350, 500,1250, 450,400, 450,1250, 500,400, 450,1250, 450};

// 暖かい色信号
const unsigned int warm[] = {3550,1650, 600,250, 600,300, 550,1150, 550,1150, 550,350, 500,1150, 600,300, 550,300, 550,300, 550,1200, 500,350, 500,350, 500,1250, 500,350, 500,1200, 500,350, 500,1250, 500,350, 500,350, 500,1200, 500,1250, 500,1200, 500,350, 500,400, 450,1250, 500,350, 500,350, 500,350, 500,1250, 500,350, 500,350, 500,1250, 450,400, 450,400, 500,350, 500,1200, 500,400, 450,1250, 500,350, 500,1250, 450};

// 明るい
const unsigned int bright[] = {3600,1550, 600,300, 550,300, 550,1150, 600,1150, 550,300, 550,1150, 550,350, 550,300, 550,300, 550,1150, 550,350, 500,350, 500,1200, 550,300, 550,1200, 500,350, 500,1200, 500,350, 550,350, 500,1200, 500,350, 500,350, 500,400, 450,400, 450,400, 500,1200, 500,350, 500,1250, 500,350, 500,1200, 500,400, 450,400, 450,1250, 500,1200, 500,400, 450,400, 450,400, 500,1200, 500,400, 450,400, 450};

// 暗い
const unsigned int dark[] = {3650,1550, 550,300, 550,350, 500,1150, 550,1200, 550,350, 500,1200, 500,350, 500,350, 550,300, 550,1200, 500,350, 500,350, 500,1250, 450,400, 500,1200, 500,350, 500,1250, 450,400, 500,350, 500,1200, 500,400, 450,400, 450,400, 500,350, 500,1250, 450,1250, 500,350, 500,1200, 500,400, 450,1250, 500,350, 500,350, 500,400, 450,1250, 500,350, 500,350, 500,400, 450,1250, 500,350, 500,350, 500};

void setup() {
  Serial.begin(9600);
}

void loop() {

  // シリアル受信用
  int receiveByte;
  
  if (Serial.available() > 0) {

    // シリアル通信でコマンド読み取り
    receiveByte = Serial.read();

    switch (receiveByte) {
      // 照明ON
      case '1':
        irsend.sendRaw(on, sizeof(on) / sizeof(on[0]), khz);
        break;
        
      // 照明OFF
      case '2':
        irsend.sendRaw(off, sizeof(off) / sizeof(off[0]), khz);
        break;
        
      // 全灯
      case '3':
        irsend.sendRaw(allLight, sizeof(allLight) / sizeof(allLight[0]), khz);
        break;
        
      // 常夜灯
      case '4':
        irsend.sendRaw(nightLight, sizeof(nightLight) / sizeof(nightLight[0]), khz);
        break;
        
      // 白い色
      case '5':
        irsend.sendRaw(white, sizeof(white) / sizeof(white[0]), khz);
        break;
        
      // 暖かい色
      case '6':
        irsend.sendRaw(warm, sizeof(warm) / sizeof(warm[0]), khz);
        break;
        
      // 明るい色
      case '7':
        irsend.sendRaw(bright, sizeof(bright) / sizeof(bright[0]), khz);
        break;
        
      // 暗い色
      case '8':
        irsend.sendRaw(dark, sizeof(dark) / sizeof(dark[0]), khz);
        break;
    }
  }

  delay(100);
}
